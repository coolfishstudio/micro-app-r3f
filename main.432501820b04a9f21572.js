!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["micro-app-r3f-main"]=t():e["micro-app-r3f-main"]=t()}(self,(()=>(()=>{var e,t,r,n={101:(e,t,r)=>{"use strict";r.r(t),r.d(t,{bootstrap:()=>Y,mount:()=>K,unmount:()=>q,update:()=>W}),r(7941),r(2526),r(7327),r(1539),r(5003),r(9554),r(4747),r(9337),r(3321),r(9070);var n=r(4572),o=r(5861),i=r(4687),c=r.n(i),s=r(7294),a=r(3935),u=r(745),p=(r(9826),r(1249),r(4184)),f=r.n(p),l=r(5953),d=r(214),j=r(8152),b=r(1999),m=r(5893);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=(0,s.useRef)(),r=(0,s.useState)(!1),n=(0,j.Z)(r,2),o=n[0],i=n[1],c=(0,s.useState)(3),a=(0,j.Z)(c,2),u=a[0],p=a[1],f=["#f5222d","#fa541c","#fa8c16","#faad14","#fadb14","#a0d911","#52c41a","#13c2c2","#1677ff","#2f54eb","#722ed1","#eb2f96"];return(0,b.A)((function(e,r){return t.current.rotation.x+=r})),(0,m.jsxs)("mesh",O(O({},e),{},{ref:t,onClick:function(){return p(u>=f.length-1?0:u+1)},onPointerOver:function(e){return e.stopPropagation(),i(!0)},onPointerOut:function(e){return i(!1)},scale:o?1.5:1,children:[(0,m.jsx)("boxGeometry",{args:[1,1,1]}),(0,m.jsx)("meshStandardMaterial",{color:f[u]})]}))}function g(){return(0,m.jsxs)(l.Xz,{children:[(0,m.jsx)("color",{attach:"background",args:["#383948"]}),(0,m.jsx)("ambientLight",{intensity:.5}),(0,m.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),(0,m.jsx)("pointLight",{position:[-10,-10,-10]}),(0,m.jsx)(y,{position:[1.8,0,0]}),(0,m.jsx)(y,{position:[0,0,0]}),(0,m.jsx)(y,{position:[-1.8,0,0]}),(0,m.jsx)(d.z,{enableZoom:!1,enableDamping:!1})]})}var x=r(8274),v=r(8569),w=r(2694),P=r(1012);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=(0,s.useRef)(),r=(0,s.useState)(!1),n=(0,j.Z)(r,2),o=n[0],i=n[1],c=(0,s.useState)(!1),a=(0,j.Z)(c,2),u=a[0],p=a[1];return(0,b.A)((function(){return t.current.rotation.x+=.01})),(0,m.jsx)("group",S(S({},e),{},{children:(0,m.jsxs)("mesh",{ref:t,scale:u?1.5:1,onClick:function(){return p(!u)},onPointerOver:function(){return i(!0)},onPointerOut:function(){return i(!1)},children:[(0,m.jsx)("dodecahedronGeometry",{args:[.75]}),(0,m.jsx)("meshStandardMaterial",{color:o?"#eb2f96":"#13c2c2"})]})}))}function D(){var e=(0,s.useRef)();return(0,b.A)((function(t){return e.current.position.x=2*Math.sin(t.clock.elapsedTime)})),(0,m.jsxs)("mesh",{children:[(0,m.jsx)("boxGeometry",{}),(0,m.jsx)("meshStandardMaterial",{children:(0,m.jsxs)(v.T,{attach:"map",anisotropy:16,children:[(0,m.jsx)(w.c,{makeDefault:!0,manual:!0,aspect:1,position:[0,0,5]}),(0,m.jsx)("color",{attach:"background",args:["#faad14"]}),(0,m.jsx)("ambientLight",{intensity:.5}),(0,m.jsx)("directionalLight",{position:[10,10,5]}),(0,m.jsx)(P.x,{ref:e,fontSize:4,color:"#fa541c",children:"hello"}),(0,m.jsx)(k,{})]})})]})}function E(){return(0,m.jsxs)(l.Xz,{camera:{position:[5,5,5],fov:25},children:[(0,m.jsx)("ambientLight",{intensity:.5}),(0,m.jsx)("directionalLight",{position:[10,10,5]}),(0,m.jsx)(D,{}),(0,m.jsx)(k,{scale:.2,position:[0,1,0]}),(0,m.jsx)(x.j,{frames:1,position:[0,-.5,0],blur:1,opacity:.75}),(0,m.jsx)(x.j,{frames:1,position:[0,-.5,0],blur:3,color:"red"}),(0,m.jsx)(d.z,{minPolarAngle:0,maxPolarAngle:Math.PI/2.1})]})}r(6833);var L=r(6227),N=r(3735),M=window.__POWERED_BY_QIANKUN__,Z={Beech:"https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/tree-beech/model.gltf",Lime:"https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/tree-lime/model.gltf",Spruce:"https://vazxmixjsiawhamofees.supabase.co/storage/v1/object/public/models/tree-spruce/model.gltf"};function I(){var e=(M?{model:"Beech"}:(0,N.M4)({model:{value:"Beech",options:Object.keys(Z)}})).model,t=(0,L.L)(Z[e]).scene;return(0,m.jsxs)(l.Xz,{camera:{position:[-10,10,40],fov:50},children:[(0,m.jsx)("hemisphereLight",{color:"#fff",groundColor:"#aaa",intensity:.75}),(0,m.jsx)("spotLight",{position:[50,50,10],angle:.25,penumbra:1}),(0,m.jsxs)("group",{position:[0,-10,0],children:[(0,m.jsx)("primitive",{position:[0,.25,0],object:t,url:Z[e]}),(0,m.jsx)(x.j,{scale:20,blur:10,far:20})]}),(0,m.jsx)(d.z,{})]})}Object.values(Z).forEach(L.L.preload);var T=[{id:"demo1",title:"Basic demo",item:(0,m.jsx)(g,{})},{id:"demo2",title:"RenderTexture",item:(0,m.jsx)(E,{})},{id:"demo3",title:"Pairing Threejs to UI",item:(0,m.jsx)(I,{})}];var B=!!window.location.port;const z=function(e){var t=e.showType,r=void 0===t?B?"last":"random":t,n=[];if("last"===r)n=[T[T.length-1]];else if("random"===r)n=[T[Math.floor(Math.random()*T.length)]];else if("first"===r)n=[T[0]];else{var o=T.find((function(e){return e.id===r}));n=o?[o]:T}return(0,m.jsx)("div",{className:f()("list-y79Jbc",1===n.length&&"solo-t3_cdI"),children:n.map((function(e){return(0,m.jsx)("div",{className:"item-lXiL3N",children:(0,m.jsx)("div",{className:"view-YYMlXr",children:e.item})},e.id)}))})};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const R=function(e){return(0,m.jsx)(s.Suspense,{fallback:null,children:(0,m.jsx)("main",{className:"main-TIEcrk",children:(0,m.jsx)(z,C({},e))})})};function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(){return G.apply(this,arguments)}function G(){return(G=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("react app bootstraped");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return(Q=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.s)(t.container?t.container.querySelector("#root-r3f"):document.getElementById("root-r3f")).render((0,m.jsx)(R,X({},t.props)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){return J.apply(this,arguments)}function J(){return(J=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.unmountComponentAtNode(t.container?t.container.querySelector("#root-r3f"):document.getElementById("root-r3f"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("update props",t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(4150),M||(0,u.s)(document.getElementById("root-r3f")).render((0,m.jsx)(R,{}))},4150:(e,t,r)=>{window.__POWERED_BY_QIANKUN__&&(r.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,i),r.exports}i.m=n,e=[],i.O=(t,r,n,o)=>{if(!r){var c=1/0;for(p=0;p<e.length;p++){for(var[r,n,o]=e[p],s=!0,a=0;a<r.length;a++)(!1&o||c>=o)&&Object.keys(i.O).every((e=>i.O[e](r[a])))?r.splice(a--,1):(s=!1,o<c&&(c=o));if(s){e.splice(p--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[r,n,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);i.r(o);var c={};t=t||[null,r({}),r([]),r(r)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,i.d(o,c),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="./",(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[c,s,a]=r,u=0;if(c.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(a)var p=a(i)}for(t&&t(r);u<c.length;u++)o=c[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(p)},r=self.webpackChunkmicro_app_r3f_=self.webpackChunkmicro_app_r3f_||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i.nc=void 0;var c=i.O(void 0,[918],(()=>i(101)));return i.O(c)})()));