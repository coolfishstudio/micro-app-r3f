!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["micro-app-r3f-main"]=t():e["micro-app-r3f-main"]=t()}(self,(()=>(()=>{var e,t,r,n={6870:(e,t,r)=>{"use strict";r.r(t),r.d(t,{bootstrap:()=>W,mount:()=>H,unmount:()=>$,update:()=>te}),r(7941),r(2526),r(7327),r(1539),r(5003),r(9554),r(4747),r(9337),r(3321),r(9070);var n=r(4572),o=r(5861),i=r(4687),c=r.n(i),s=r(7294),a=r(3935),u=r(745),f=(r(9826),r(1249),r(4184)),p=r.n(f),l=r(5953),d=r(214),j=r(8152),b=r(1999),h=r(5893);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=(0,s.useRef)(),r=(0,s.useState)(!1),n=(0,j.Z)(r,2),o=n[0],i=n[1],c=(0,s.useState)(3),a=(0,j.Z)(c,2),u=a[0],f=a[1],p=["#f5222d","#fa541c","#fa8c16","#faad14","#fadb14","#a0d911","#52c41a","#13c2c2","#1677ff","#2f54eb","#722ed1","#eb2f96"];return(0,b.A)((function(e,r){return t.current.rotation.x+=r})),(0,h.jsxs)("mesh",O(O({},e),{},{ref:t,onClick:function(){return f(u>=p.length-1?0:u+1)},onPointerOver:function(e){return e.stopPropagation(),i(!0)},onPointerOut:function(e){return i(!1)},scale:o?1.5:1,children:[(0,h.jsx)("boxGeometry",{args:[1,1,1]}),(0,h.jsx)("meshStandardMaterial",{color:p[u]})]}))}function g(){return(0,h.jsxs)(l.Xz,{children:[(0,h.jsx)("color",{attach:"background",args:["#383948"]}),(0,h.jsx)("ambientLight",{intensity:.5}),(0,h.jsx)("spotLight",{position:[10,10,10],angle:.15,penumbra:1}),(0,h.jsx)("pointLight",{position:[-10,-10,-10]}),(0,h.jsx)(y,{position:[1.8,0,0]}),(0,h.jsx)(y,{position:[0,0,0]}),(0,h.jsx)(y,{position:[-1.8,0,0]}),(0,h.jsx)(d.z,{enableZoom:!1,enableDamping:!1})]})}var x=r(8274),v=r(8569),P=r(2694),w=r(1012);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){var t=(0,s.useRef)(),r=(0,s.useState)(!1),n=(0,j.Z)(r,2),o=n[0],i=n[1],c=(0,s.useState)(!1),a=(0,j.Z)(c,2),u=a[0],f=a[1];return(0,b.A)((function(){return t.current.rotation.x+=.01})),(0,h.jsx)("group",k(k({},e),{},{children:(0,h.jsxs)("mesh",{ref:t,scale:u?1.5:1,onClick:function(){return f(!u)},onPointerOver:function(){return i(!0)},onPointerOut:function(){return i(!1)},children:[(0,h.jsx)("dodecahedronGeometry",{args:[.75]}),(0,h.jsx)("meshStandardMaterial",{color:o?"#eb2f96":"#13c2c2"})]})}))}function E(){var e=(0,s.useRef)();return(0,b.A)((function(t){return e.current.position.x=2*Math.sin(t.clock.elapsedTime)})),(0,h.jsxs)("mesh",{children:[(0,h.jsx)("boxGeometry",{}),(0,h.jsx)("meshStandardMaterial",{children:(0,h.jsxs)(v.T,{attach:"map",anisotropy:16,children:[(0,h.jsx)(P.c,{makeDefault:!0,manual:!0,aspect:1,position:[0,0,5]}),(0,h.jsx)("color",{attach:"background",args:["#faad14"]}),(0,h.jsx)("ambientLight",{intensity:.5}),(0,h.jsx)("directionalLight",{position:[10,10,5]}),(0,h.jsx)(w.x,{ref:e,fontSize:4,color:"#fa541c",children:"hello"}),(0,h.jsx)(S,{})]})})]})}function D(){return(0,h.jsxs)(l.Xz,{camera:{position:[5,5,5],fov:25},children:[(0,h.jsx)("ambientLight",{intensity:.5}),(0,h.jsx)("directionalLight",{position:[10,10,5]}),(0,h.jsx)(E,{}),(0,h.jsx)(S,{scale:.2,position:[0,1,0]}),(0,h.jsx)(x.j,{frames:1,position:[0,-.5,0],blur:1,opacity:.75}),(0,h.jsx)(x.j,{frames:1,position:[0,-.5,0],blur:3,color:"red"}),(0,h.jsx)(d.z,{minPolarAngle:0,maxPolarAngle:Math.PI/2.1})]})}r(6833);var L=r(6227),M=r(3735),Z=window.__POWERED_BY_QIANKUN__,I={Beech:"https://coolfishstudio.github.io/files/app-r3f/models/tree-beech/model.gltf",Lime:"https://coolfishstudio.github.io/files/app-r3f/models/tree-lime/model.gltf",Spruce:"https://coolfishstudio.github.io/files/app-r3f/models/tree-spruce/model.gltf"};function N(){var e=(Z?{model:"Beech"}:(0,M.M4)({model:{value:"Beech",options:Object.keys(I)}})).model,t=(0,L.L)(I[e]).scene;return(0,s.useEffect)((function(){return Object.values(I).forEach(L.L.preload)}),[]),(0,h.jsxs)(l.Xz,{camera:{position:[-10,10,40],fov:50},children:[(0,h.jsx)("hemisphereLight",{color:"#fff",groundColor:"#aaa",intensity:.75}),(0,h.jsx)("spotLight",{position:[50,50,10],angle:.25,penumbra:1}),(0,h.jsxs)("group",{position:[0,-10,0],children:[(0,h.jsx)("primitive",{position:[0,.25,0],object:t,url:I[e]}),(0,h.jsx)(x.j,{scale:20,blur:10,far:20})]}),(0,h.jsx)(d.z,{})]})}var T=r(6459),A=(r(9601),r(3857));function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var z="https://coolfishstudio.github.io/files/app-r3f/models/duck/model.glb",C=function(e){var t=Object.assign({},((0,T.Z)(e),e)),r=(0,L.L)(z),o=r.scene,i=r.animations,c=(0,A.v)(i,o).actions;return(0,s.useEffect)((function(){return L.L.preload(z)}),[]),(0,s.useEffect)((function(){c.LironShuba.reset().fadeIn(.5).play()}),[c]),(0,b.A)((function(e,t){c.LironShuba,e.camera.position.set(25*Math.cos(e.clock.elapsedTime*Math.PI/5),1,15*Math.sin(e.clock.elapsedTime)+35),e.camera.lookAt(0,0,0)})),(0,h.jsx)("primitive",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({object:o},t))};function R(){return(0,h.jsxs)(l.Xz,{camera:{position:[-10,10,50],fov:50},children:[(0,h.jsx)("color",{attach:"background",args:["#383948"]}),(0,h.jsx)(s.Suspense,{fallback:null,children:(0,h.jsx)(C,{scale:10,position:[0,-10,0]})})]})}var X=[{id:"demo1",title:"Basic demo",item:(0,h.jsx)(g,{})},{id:"demo2",title:"RenderTexture",item:(0,h.jsx)(D,{})},{id:"demo3",title:"Pairing Threejs to UI",item:(0,h.jsx)(N,{})},{id:"demo4",title:"duck",item:(0,h.jsx)(R,{})}];var U=!!window.location.port;const Y=function(e){var t=e.showType,r=void 0===t?U?"last":"random":t,n=[];if("last"===r)n=[X[X.length-1]];else if("random"===r)n=[X[Math.floor(Math.random()*X.length)]];else if("first"===r)n=[X[0]];else{var o=X.find((function(e){return e.id===r}));n=o?[o]:X}return(0,h.jsx)("div",{className:p()("list-y79Jbc",1===n.length&&"solo-t3_cdI"),children:n.map((function(e){return(0,h.jsx)("div",{className:"item-lXiL3N",children:(0,h.jsx)("div",{className:"view-YYMlXr",children:e.item})},e.id)}))})};function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Q=function(e){return(0,h.jsx)(s.Suspense,{fallback:null,children:(0,h.jsx)("main",{className:"main-TIEcrk",children:(0,h.jsx)(Y,K({},e))})})};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(){return F.apply(this,arguments)}function F(){return(F=(0,o.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("react app bootstraped");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return V.apply(this,arguments)}function V(){return(V=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,u.s)(t.container?t.container.querySelector("#root-r3f"):document.getElementById("root-r3f")).render((0,h.jsx)(Q,J({},t.props)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(e){return ee.apply(this,arguments)}function ee(){return(ee=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.unmountComponentAtNode(t.container?t.container.querySelector("#root-r3f"):document.getElementById("root-r3f"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return re.apply(this,arguments)}function re(){return(re=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("update props",t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}r(4150),Z||(0,u.s)(document.getElementById("root-r3f")).render((0,h.jsx)(Q,{}))},4150:(e,t,r)=>{window.__POWERED_BY_QIANKUN__&&(r.p=window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__)}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,i),r.exports}i.m=n,e=[],i.O=(t,r,n,o)=>{if(!r){var c=1/0;for(f=0;f<e.length;f++){for(var[r,n,o]=e[f],s=!0,a=0;a<r.length;a++)(!1&o||c>=o)&&Object.keys(i.O).every((e=>i.O[e](r[a])))?r.splice(a--,1):(s=!1,o<c&&(c=o));if(s){e.splice(f--,1);var u=n();void 0!==u&&(t=u)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[r,n,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);i.r(o);var c={};t=t||[null,r({}),r([]),r(r)];for(var s=2&n&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((t=>c[t]=()=>e[t]));return c.default=()=>e,i.d(o,c),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="./",(()=>{var e={179:0};i.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[c,s,a]=r,u=0;if(c.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);if(a)var f=a(i)}for(t&&t(r);u<c.length;u++)o=c[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(f)},r=self.webpackChunkmicro_app_r3f_=self.webpackChunkmicro_app_r3f_||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),i.nc=void 0;var c=i.O(void 0,[62],(()=>i(6870)));return i.O(c)})()));